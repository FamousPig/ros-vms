[unitree-ros-base]
additional_packages="git vim curl software-properties-common"
image=ubuntu:22.04
replace=false

[unitree-ros]
replace=false
clone=unitree-ros-base
hostname=unitree_rosbox
start_now=false

init_hooks=add-apt-repository universe
init_hooks=export ROS_APT_SOURCE_VERSION='1.1.0'
init_hooks=curl -L -o /tmp/ros2-apt-source.deb "https://github.com/ros-infrastructure/ros-apt-source/releases/download/${ROS_APT_SOURCE_VERSION}/ros2-apt-source_${ROS_APT_SOURCE_VERSION}.jammy_all.deb"
init_hooks=dpkg -i /tmp/ros2-apt-source.deb
init_hooks=apt update
init_hooks=apt upgrade --assume-yes
init_hooks=apt install --assume-yes ros-humble-ros-base

volume="$(pwd)/res:/run/a"

[unitree-ros-kai]
clone=unitree-ros
replace=true

init_hooks=apt update
init_hooks=apt upgrade --assume-yes
init_hooks=apt install --assume-yes ros-humble-desktop
